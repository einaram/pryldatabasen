<Window x:Class="PrylDatabas.DetailsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:PrylDatabas"
        Title="Föremålsdetaljer" Height="700" Width="900" WindowStartupLocation="CenterOwner">
    <Window.Resources>
        <local:ImageStatusConverter x:Key="ImageStatusConverter"/>
    </Window.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="400" MinWidth="300"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*" MinWidth="300"/>
        </Grid.ColumnDefinitions>

        <!-- Information Panel (Left) -->
        <ScrollViewer Grid.Column="0" Margin="20">
            <StackPanel>
                <TextBlock x:Name="ItemNameBlock" FontSize="20" FontWeight="Bold" Margin="0,0,0,20"/>

                <Grid Margin="0,0,0,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="120"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Text="Nummer:" FontWeight="Bold" Grid.Row="0" Grid.Column="0" Margin="0,0,10,5"/>
                    <TextBlock x:Name="NumberBlock" Grid.Row="0" Grid.Column="1" TextWrapping="Wrap" Margin="0,0,0,5"/>

                    <TextBlock Text="Kategori:" FontWeight="Bold" Grid.Row="1" Grid.Column="0" Margin="0,0,10,5"/>
                    <TextBlock x:Name="CategoryBlock" Grid.Row="1" Grid.Column="1" TextWrapping="Wrap" Margin="0,0,0,5"/>

                    <TextBlock Text="Tillverkad av:" FontWeight="Bold" Grid.Row="2" Grid.Column="0" Margin="0,0,10,5"/>
                    <TextBlock x:Name="CreatedByBlock" Grid.Row="2" Grid.Column="1" TextWrapping="Wrap" Margin="0,0,0,5"/>

                    <TextBlock Text="År:" FontWeight="Bold" Grid.Row="3" Grid.Column="0" Margin="0,0,10,5"/>
                    <TextBlock x:Name="YearBlock" Grid.Row="3" Grid.Column="1" TextWrapping="Wrap" Margin="0,0,0,5"/>

                    <TextBlock Text="Plats:" FontWeight="Bold" Grid.Row="4" Grid.Column="0" Margin="0,0,10,5"/>
                    <TextBlock x:Name="PlaceBlock" Grid.Row="4" Grid.Column="1" TextWrapping="Wrap" Margin="0,0,0,5"/>

                    <TextBlock Text="Stämpel:" FontWeight="Bold" Grid.Row="5" Grid.Column="0" Margin="0,0,10,5"/>
                    <TextBlock x:Name="StampBlock" Grid.Row="5" Grid.Column="1" TextWrapping="Wrap" Margin="0,0,0,5"/>

                    <TextBlock Text="Nuvarande Ägare:" FontWeight="Bold" Grid.Row="6" Grid.Column="0" Margin="0,0,10,5"/>
                    <TextBlock x:Name="OwnerBlock" Grid.Row="6" Grid.Column="1" TextWrapping="Wrap" Margin="0,0,0,5"/>

                    <TextBlock Text="Foton:" FontWeight="Bold" Grid.Row="7" Grid.Column="0" Margin="0,0,10,5"/>
                    <TextBlock x:Name="PhotosBlock" Grid.Row="7" Grid.Column="1" TextWrapping="Wrap" Margin="0,0,0,5"/>

                    <TextBlock Text="Proveniens:" FontWeight="Bold" Grid.Row="8" Grid.Column="0" VerticalAlignment="Top" Margin="0,0,10,5"/>
                    <TextBlock x:Name="ProvenanceBlock" Grid.Row="8" Grid.Column="1" TextWrapping="Wrap" Margin="0,0,0,5"/>
                </Grid>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                    <Button x:Name="CloseButton" Content="Stäng" Width="80" Padding="10,5" Click="CloseButton_Click"/>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>

        <!-- Splitter -->
        <GridSplitter Grid.Column="1" Width="5" HorizontalAlignment="Center" VerticalAlignment="Stretch"/>

        <!-- Image Gallery Panel (Right) -->
        <Border Grid.Column="2" Margin="20" BorderBrush="LightGray" BorderThickness="1">
            <ScrollViewer>
                <StackPanel>
                    <TextBlock Text="Bilder" FontSize="16" FontWeight="Bold" Margin="10,10,10,0"/>
                    
                    <!-- Image List -->
                    <ListBox x:Name="ImageListBox" Margin="10" ItemsSource="{Binding}" SelectionChanged="ImageListBox_SelectionChanged">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding FileName}" TextWrapping="Wrap" Foreground="{Binding Found, Converter={StaticResource ImageStatusConverter}, Mode=OneWay}"/>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>

                    <!-- Main Image Display -->
                    <Border x:Name="ImageBorder" Margin="10" BorderBrush="LightGray" BorderThickness="1" MinHeight="300">
                        <Image x:Name="MainImage" Stretch="Uniform"/>
                    </Border>

                    <!-- No Images Message -->
                    <TextBlock x:Name="NoImagesText" Text="Inga bilder hittades" Foreground="Gray" Margin="10" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </StackPanel>
            </ScrollViewer>
        </Border>
    </Grid>
</Window>